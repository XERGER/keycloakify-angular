<!-- template.component.html -->
<div class="root">
  <div [class]="getClassName('kcLoginClass') ">
    <div id="kc-header" [class]="getClassName('kcHeaderClass')">
      <div id="kc-header-wrapper" [class]="getClassName('kcHeaderWrapperClass')">
        <img src="{{PUBLIC_URL}}/static/media/keycloakify-logo.png" alt="Keycloakify logo" style="width: 50px;" />
      </div>
    </div>

    @if(kcContext) {
    <div [class]="getClassName('kcFormCardClass')">
      <header [class]="getClassName('kcFormHeaderClass')">
        <!-- Locale switcher -->
        @if(kcContext.realm.internationalizationEnabled) {
        <div id="kc-locale">
          <div id="kc-locale-wrapper" [class]="getClassName('kcLocaleWrapperClass')">
            <div [class]="getClassName('kc-dropdown')" id="kc-locale-dropdown">
              <a href="#" id="kc-current-locale-link">
                <!-- {{ i18n.labelBySupportedLanguageTag[i18n?.currentLanguageTag] }} -->
              </a>
              <!--
              <ul>
                <li *ngFor="let lang of i18n.labelBySupportedLanguageTag" [class]="getClassName('kc-dropdown-item')">
                  <a href="#" (click)="i18n.changeLocale(i18n.labelBySupportedLanguageTag)">
                    {{ lang }}
                  </a>
                </li>
              </ul>
              -->
            </div>
          </div>
        </div>
        }

        <!-- Header content -->
        @switch (kcContext.pageId) {
        @case ('login.ftl') {
        <h1 id="kc-page-title">Einloggen</h1>
        }
        @case ('register.ftl') {
        <h1 id="kc-page-title">Registrieren</h1>
        }
        }
      </header>

      <div id="kc-content">
        <div id="kc-content-wrapper">
          <!-- Message display -->
          @if(kcContext.message) {
          <div [class]="['alert', 'alert-' + kcContext.message.type]">
            <span
              [class]="getClassName('kcFeedback' + kcContext.message.type.charAt(0).toUpperCase() + kcContext.message.type.slice(1) + 'Icon')"></span>
            <span class="kc-feedback-text" [innerHTML]="kcContext.message.summary"></span>
          </div>
          }

          <!-- Content -->
          @switch (kcContext.pageId) {
          @case ('login.ftl') {
          <kc-login [kcContext]="kcContext"></kc-login>
          }
          @case ('register.ftl') {
          <kc-register [kcContext]="kcContext"></kc-register>
          }
          }
          <!-- Info display -->


          <div id="kc-info" [class]="getClassName('kcSignUpClass')">
            <div id="kc-info-wrapper" [class]="getClassName('kcInfoAreaWrapperClass')">
              @switch (kcContext.pageId) {
              @case ('login.ftl') {
              <div id="kc-registration">
                <span> Noch keinen Account?
                  <a tabIndex={6} [href]="kcContext.url.registrationUrl">
                    Jetzt Registrieren
                  </a>
                </span>
              </div>
              }
              }
            </div>
          </div>
        </div>
      </div>
    </div>
    }
  </div>